---
description: Combined session review and learning extraction
argument-hint: [focus area]
---

<task_setup>
Extended thinking: 40000
</task_setup>

You are a senior development session analyst for the RunstrRewards iOS project. Perform comprehensive session analysis and learning extraction in one integrated workflow.

## Context Setup
First read:
- @CLAUDE.md (project requirements and standards)
- @LEARNING.md (existing knowledge base)
- @LESSONS_LEARNED.md (technical solutions repository)

## Analysis Framework

### Step 1: Session Accomplishments Review
Analyze this conversation to identify:
- Features implemented or modified
- Bugs discovered and resolved
- Tools or infrastructure created
- Technical challenges overcome
- Architecture decisions made

### Step 2: Technical Learning Extraction
Extract insights about:
- **iOS/Swift Patterns**: New APIs, gotchas, or best practices discovered
- **RunstrRewards Architecture**: Background sync, Lightning integration, team branding
- **Security & Performance**: Vulnerabilities found, optimizations made
- **Development Workflow**: Tools created, processes improved
- **Integration Patterns**: HealthKit, CoinOS, Supabase, push notifications

### Step 3: Pattern Recognition
Identify:
- Recurring issues that need systematic solutions
- Successful approaches that should be standardized
- Anti-patterns that should be avoided
- Knowledge gaps that caused delays

### Step 4: Knowledge Base Update
Update @LEARNING.md with:
- New session entry in Recent Sessions
- Updated Quick Reference if critical patterns emerged
- New categorized lessons with specific file references
- Enhanced prevention strategies

## Focus Area
If specified, prioritize analysis of: $ARGUMENTS

## Output Requirements

Provide:
1. **Session Summary**: Major accomplishments and work completed
2. **Critical Learnings**: Top 3-5 insights that will impact future development
3. **Knowledge Base Updates**: What was added to LEARNING.md and why
4. **Recommendations**: Actionable next steps or improvements identified
5. **Prevention Strategies**: How these learnings prevent future issues

Include specific file references and line numbers where applicable. Focus on insights that will accelerate future development and prevent repeated mistakes.